<div id="death-screen">
    <h1 style="color: #ff4444; font-size: 72px; margin-bottom: 10px;">YOU FELL</h1>
    <p style="margin-bottom: 40px; font-size: 20px;">Succumbed to the frozen wilderness.</p>
    <div id="respawn-btn" class="btn" style="background: #cc0000; border-color: #ff4444;">RESPAWN</div>
</div>

<div id="shard-map-container" style="display: none;">
    <div style="display: flex; justify-content: space-between; align-items: flex-end; margin-bottom: 15px;">
        <div>
            <h2 style="margin: 0; color: var(--primary);">WORLD MAP</h2>
            <div id="map-coords" style="font-size: 12px; opacity: 0.6;">Pos: 0, 0</div>
            <div id="map-shard" style="font-size: 12px; opacity: 0.6;">Shard: 0, 0</div>
        </div>
        <div style="text-align: right; font-size: 12px;">[Scroll] Zoom | [N] Close</div>
    </div>
    <div style="flex-grow: 1; position: relative; border: 1px solid var(--border); overflow: hidden; border-radius: 8px;">
        <canvas id="shard-map-canvas"></canvas>
    </div>
</div>

<div id="combat-modal" class="modal-overlay" style="display: none;">
    <div class="combat-container">
        <div class="combat-header">
            <h2 id="combat-title">COMBAT</h2>
            <div id="turn-indicator">PLAYER TURN</div>
        </div>
        
        <div class="combat-main">
            <div id="combat-view">
                <!-- Three.js renderer will be appended here or we use a separate scene -->
                <canvas id="combat-canvas"></canvas>
            </div>
            
            <div class="combat-sidebar">
                <div class="unit-list" id="combat-units">
                    <!-- Units will be listed here -->
                </div>
                <div class="combat-log" id="combat-log">
                    <div class="log-entry">Combat started!</div>
                </div>
            </div>
        </div>
        
        <div class="combat-actions">
            <button id="btn-move" class="combat-btn">MOVE</button>
            <button id="btn-attack" class="combat-btn">ATTACK</button>
            <button id="btn-skill" class="combat-btn">SKILL</button>
            <button id="btn-end-turn" class="combat-btn highlight">END TURN</button>
        </div>
    </div>
</div>

<div id="reset-character-modal" class="modal-overlay" style="display: none;">
    <div class="reset-confirm-container">
        <div class="reset-confirm-header">
            <h2>RESET CHARACTER</h2>
        </div>
        
        <div class="reset-confirm-content">
            <div class="warning-icon">‚ö†Ô∏è</div>
            <p>Are you sure you want to reset your character?</p>
            <p class="warning-text">This will clear all local progress and reload the application.</p>
        </div>
        
        <div class="reset-confirm-actions">
            <button id="reset-cancel-btn" class="btn secondary">CANCEL</button>
            <button id="reset-confirm-btn" class="btn danger">RESET CHARACTER</button>
        </div>
    </div>
</div>

<div id="well-dialogue-modal" class="modal-overlay" style="display: none;">
    <div class="well-dialogue-container">
        <div class="well-dialogue-header">
            <h2>ANCIENT WELL</h2>
            <div class="close-button" onclick="closeWellDialogue()">√ó</div>
        </div>
        
        <div class="well-dialogue-content">
            <div class="well-icon">üèõÔ∏è</div>
            <div class="well-text">
                <p class="well-description">You approach an ancient well, its stone worn smooth by countless hands over centuries.</p>
                <p class="well-mystery">The depths below seem to whisper secrets of Yureigakure's past...</p>
            </div>
        </div>
        
        <div class="well-dialogue-actions">
            <button class="btn-small primary" onclick="drawWater()">Draw Water</button>
            <button class="btn-small secondary" onclick="examineWell()">Examine</button>
            <button class="btn-small" onclick="closeWellDialogue()">Leave</button>
        </div>
    </div>
</div>
